# Calculator test
record(ao, "ca:variable:a")
{
    field(DRVH, "100")
    field(DOL, "0")
    field(PINI, "YES")
}
record(ao, "ca:variable:b")
{
    field(DRVH, "100")
    field(DOL, "0")
    field(PINI, "YES")
}
record(calc, "ca:variable:sum")
{
    field(SCAN, "1 second")
    field(INPA, "ca:variable:a")
    field(INPB, "ca:variable:b")
    field(CALC, "A+B")
}

# A ramp from 0 to 'limit', were limit
# can be configured via a separate record
record(ao, "ca:channel:ramp:limit")
{
    field(DRVH, "100")
    field(DOL, "10")
    field(PINI, "YES")
}

record(calc, "ca:channel:ramp:ramp")
{
    field(SCAN, "1 second")
    field(INPA, "ca:channel:ramp:ramp")
    field(INPB, "ca:channel:ramp:limit")
    field(CALC, "A<B ? A+1 : 0")
    field(HIGH, "90")
    field(HSV, "MAJOR")
}

record (waveform,"ca:channel:waveform")
{
    field(DESC, "Setpoints")
    field(EGU, "C")
    field(FTVL, "DOUBLE")
    field(HOPR, "3.0")
    field(LOPR, "0.0")
    field(NELM, "8")
    field(PINI, "YES")
}

